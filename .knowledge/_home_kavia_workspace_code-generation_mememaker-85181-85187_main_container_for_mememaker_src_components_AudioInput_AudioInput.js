{"is_source_file": true, "format": "JavaScript (React component)", "description": "A React component called AudioInput that provides functionality for uploading, recording via microphone, playing, and selecting public audio samples. It manages waveforms visualization and validation for supported formats and file size.", "external_files": ["./AudioInput.css"], "external_methods": ["React", "useRef", "useState", "navigator.mediaDevices.getUserMedia", "MediaRecorder.isTypeSupported", "window.AudioContext"], "published": ["AudioInput"], "classes": [], "methods": [{"name": "validFile", "description": "Checks if the uploaded file is of a supported format and within the maximum size limit."}, {"name": "handleFileChange", "description": "Handles file input change, validates the file, and updates the state with the selected audio."}, {"name": "handleStartRecording", "description": "Initiates microphone recording using MediaRecorder, manages streams and recording chunks."}, {"name": "handleStopRecording", "description": "Stops ongoing recording and processes the recorded audio Blob."}, {"name": "handlePickSource", "description": "Handles selection of a public audio source, setting it as current audio."}, {"name": "handleClear", "description": "Clears the current audio selection, stopping any playback and resetting states."}, {"name": "handlePlay", "description": "Plays the current audio."}, {"name": "handlePause", "description": "Pauses the current audio playback."}, {"name": "visualizeWaveformFromBlob(blob)", "description": "Reads a Blob object and visualizes its waveform.", "scope": "AudioInput", "scopeKind": "function"}, {"name": "visualizeWaveformFromURL(url)", "description": "Fetches audio data from URL and visualizes its waveform.", "scope": "AudioInput", "scopeKind": "function"}, {"name": "drawWaveformFromAudioBuffer(buffer)", "description": "Decodes audio data and draws waveform visualization on canvas.", "scope": "AudioInput", "scopeKind": "function"}, {"name": "AudioInput({ maxFileSizeMB = 10, supportedFormats = [\"audio/mpeg\", \"audio/wav\", \"audio/ogg\", \"audio/webm\"], publicSources = [ { label: \"Sample: Ding\", url: \"https://upload.wikimedia.org/wikipedia/commons/3/3f/Windows_Notify_Public.wav\" }, { label: \"Sample: Pop\", url: \"https://upload.wikimedia.org/wikipedia/commons/8/8a/Computer_Error.mp3\" } ] })", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "clearWaveform()", "scope": "AudioInput", "scopeKind": "function", "description": "unavailable"}], "calls": ["navigator.mediaDevices.getUserMedia", "MediaRecorder.isTypeSupported", "URL.revokeObjectURL", "URL.createObjectURL", "fetch", "audioContext.decodeAudioData", "canvas.getContext"], "search-terms": ["AudioInput React component", "Microphone recording", "Audio waveform visualization", "Audio file upload validation", "Public audio samples"], "state": 2, "file_id": 25, "knowledge_revision": 54, "git_revision": "", "ctags": [{"_type": "tag", "name": "260", "path": "/home/kavia/workspace/code-generation/mememaker-85181-85187/main_container_for_mememaker/src/components/AudioInput/AudioInput.js", "pattern": "/^          width={260}$/", "language": "JavaScript", "kind": "field", "scope": "width", "scopeKind": "class"}, {"_type": "tag", "name": "36", "path": "/home/kavia/workspace/code-generation/mememaker-85181-85187/main_container_for_mememaker/src/components/AudioInput/AudioInput.js", "pattern": "/^          height={36}$/", "language": "JavaScript", "kind": "field", "scope": "height", "scopeKind": "class"}, {"_type": "tag", "name": "AudioInput", "path": "/home/kavia/workspace/code-generation/mememaker-85181-85187/main_container_for_mememaker/src/components/AudioInput/AudioInput.js", "pattern": "/^function AudioInput({$/", "language": "JavaScript", "kind": "function", "signature": "({ maxFileSizeMB = 10, supportedFormats = [\"audio/mpeg\", \"audio/wav\", \"audio/ogg\", \"audio/webm\"], publicSources = [ { label: \"Sample: Ding\", url: \"https://upload.wikimedia.org/wikipedia/commons/3/3f/Windows_Notify_Public.wav\" }, { label: \"Sample: Pop\", url: \"https://upload.wikimedia.org/wikipedia/commons/8/8a/Computer_Error.mp3\" } ] })"}, {"_type": "tag", "name": "audioRef", "path": "/home/kavia/workspace/code-generation/mememaker-85181-85187/main_container_for_mememaker/src/components/AudioInput/AudioInput.js", "pattern": "/^          ref={audioRef}$/", "language": "JavaScript", "kind": "field", "scope": "ref", "scopeKind": "class"}, {"_type": "tag", "name": "audioURL", "path": "/home/kavia/workspace/code-generation/mememaker-85181-85187/main_container_for_mememaker/src/components/AudioInput/AudioInput.js", "pattern": "/^          src={audioURL || \"\"}$/", "language": "JavaScript", "kind": "field", "scope": "src", "scopeKind": "class"}, {"_type": "tag", "name": "clearWaveform", "path": "/home/kavia/workspace/code-generation/mememaker-85181-85187/main_container_for_mememaker/src/components/AudioInput/AudioInput.js", "pattern": "/^  function clearWaveform() {$/", "language": "JavaScript", "kind": "function", "signature": "()", "scope": "AudioInput", "scopeKind": "function"}, {"_type": "tag", "name": "drawWaveformFromAudioBuffer", "path": "/home/kavia/workspace/code-generation/mememaker-85181-85187/main_container_for_mememaker/src/components/AudioInput/AudioInput.js", "pattern": "/^  function drawWaveformFromAudioBuffer(buffer) {$/", "language": "JavaScript", "kind": "function", "signature": "(buffer)", "scope": "AudioInput", "scopeKind": "function"}, {"_type": "tag", "name": "false", "path": "/home/kavia/workspace/code-generation/mememaker-85181-85187/main_container_for_mememaker/src/components/AudioInput/AudioInput.js", "pattern": "/^          autoPlay={false}$/", "language": "JavaScript", "kind": "field", "scope": "autoPlay", "scopeKind": "class"}, {"_type": "tag", "name": "handleFileChange", "path": "/home/kavia/workspace/code-generation/mememaker-85181-85187/main_container_for_mememaker/src/components/AudioInput/AudioInput.js", "pattern": "/^            onChange={handleFileChange}$/", "language": "JavaScript", "kind": "field", "scope": "onChange", "scopeKind": "class"}, {"_type": "tag", "name": "mediaStream", "path": "/home/kavia/workspace/code-generation/mememaker-85181-85187/main_container_for_mememaker/src/components/AudioInput/AudioInput.js", "pattern": "/^          disabled={mediaStream && !recording}$/", "language": "JavaScript", "kind": "field", "scope": "AudioInput.disabled", "scopeKind": "class"}, {"_type": "tag", "name": "recording", "path": "/home/kavia/workspace/code-generation/mememaker-85181-85187/main_container_for_mememaker/src/components/AudioInput/AudioInput.js", "pattern": "/^          onClick={recording ? handleStopRecording : handleStartRecording}$/", "language": "JavaScript", "kind": "field", "scope": "AudioInput.onClick", "scopeKind": "class"}, {"_type": "tag", "name": "supportedFormats", "path": "/home/kavia/workspace/code-generation/mememaker-85181-85187/main_container_for_mememaker/src/components/AudioInput/AudioInput.js", "pattern": "/^            accept={supportedFormats.join(\",\")}$/", "language": "JavaScript", "kind": "field", "scope": "AudioInput.accept", "scopeKind": "class"}, {"_type": "tag", "name": "visualizeWaveformFromBlob", "path": "/home/kavia/workspace/code-generation/mememaker-85181-85187/main_container_for_mememaker/src/components/AudioInput/AudioInput.js", "pattern": "/^  function visualizeWaveformFromBlob(blob) {$/", "language": "JavaScript", "kind": "function", "signature": "(blob)", "scope": "AudioInput", "scopeKind": "function"}, {"_type": "tag", "name": "visualizeWaveformFromURL", "path": "/home/kavia/workspace/code-generation/mememaker-85181-85187/main_container_for_mememaker/src/components/AudioInput/AudioInput.js", "pattern": "/^  function visualizeWaveformFromURL(url) {$/", "language": "JavaScript", "kind": "function", "signature": "(url)", "scope": "AudioInput", "scopeKind": "function"}, {"_type": "tag", "name": "waveformCanvasRef", "path": "/home/kavia/workspace/code-generation/mememaker-85181-85187/main_container_for_mememaker/src/components/AudioInput/AudioInput.js", "pattern": "/^          ref={waveformCanvasRef}$/", "language": "JavaScript", "kind": "field", "scope": "ref", "scopeKind": "class"}], "filename": "/home/kavia/workspace/code-generation/mememaker-85181-85187/main_container_for_mememaker/src/components/AudioInput/AudioInput.js", "hash": "81659722c6d1c1385db8cf9dd6dd4683", "format-version": 4, "code-base-name": "default", "fields": [{"name": "width={260}", "scope": "width", "scopeKind": "class", "description": "unavailable"}, {"name": "height={36}", "scope": "height", "scopeKind": "class", "description": "unavailable"}, {"name": "ref={audioRef}", "scope": "ref", "scopeKind": "class", "description": "unavailable"}, {"name": "src={audioURL || \"\"}", "scope": "src", "scopeKind": "class", "description": "unavailable"}, {"name": "autoPlay={false}", "scope": "autoPlay", "scopeKind": "class", "description": "unavailable"}, {"name": "onChange={handleFileChange}", "scope": "onChange", "scopeKind": "class", "description": "unavailable"}, {"name": "disabled={mediaStream && !recording}", "scope": "AudioInput.disabled", "scopeKind": "class", "description": "unavailable"}, {"name": "onClick={recording ? handleStopRecording : handleStartRecording}", "scope": "AudioInput.onClick", "scopeKind": "class", "description": "unavailable"}, {"name": "accept={supportedFormats.join(\",\")}", "scope": "AudioInput.accept", "scopeKind": "class", "description": "unavailable"}, {"name": "ref={waveformCanvasRef}", "scope": "ref", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"54": ""}]}